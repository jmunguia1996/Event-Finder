<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Finder</title>
</head>
<body>
<!--<script>
    var ownerUserName = prompt("Plase enter the username of the target repo's owner:", "username")
</script>-->
    <h1>Event Finder</h1>
    <button id = 'listRepos'>List Repos</button>
    <div id = 'repoList'>

    </div>

<script>
var ownerUserName = prompt("Plase enter the username of the target repository's owner:", "username")
const listRepos = document.getElementById("listRepos")
listRepos.addEventListener("click", getRepos)
async function getRepos() {
    const listReposReponse = await fetch("https://api.github.com/users/" + ownerUserName + "/repos")
    const listReposResult = await listReposReponse.json() 
    document.write(listReposResult)
    getRepoEvents()
}
async function getRepoEvents() {
    var targetRepoName = prompt("Please enter the name of the target repository", "repo name")
    const repoEventsResponse = await fetch("https://api.github.com/repos/" + ownerUserName + "/" + targetRepoName + "/events")
    const repoEventsResult = await repoEventsResponse.json()

    console.log(repoEventsResult)
}

</script>

</body>
</html>